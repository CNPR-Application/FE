<div class="flex center-justify">
  <div class="curriculum">
    <div style="width: 100%">
      <div class="cur-div">
        <div
          class="cur"
          *ngFor="let cur of curriculumArray; let i = index"
          matTooltipPosition="after"
          style="cursor: pointer"
          matTooltip="Mã code: {{ cur.curriculumCode }}"
          (click)="clickCurri(cur)"
        >
          <div>
            <img [src]="imageClass[i % 4]" class="img-cur" />
            <p class="cur-name">Chương trình {{ cur.curriculumName }}</p>
          </div>
        </div>
      </div>
      <div class="paging">
        <div
          class="item"
          *ngFor="let page of pageArray"
          [ngClass]="page == currentPage ? 'item-hover' : 'item'"
          (click)="changePage(page)"
        >
          <a>{{ page }}</a>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="sub-div" *ngIf="clickedCurriculum" id="sub">
  <p class="sub-name">
    Môn học chương trình {{ clickedCurriculum.curriculumName }}
  </p>
  <p class="sub-description">{{ clickedCurriculum.description }}</p>
  <p class="sub-description">
    Kết quả cam đoan: {{ clickedCurriculum.learningOutcome }}
  </p>
  <div class="flex center-justify" style="width: 100%">
    <div class="subject-name-div" *ngIf="subjectArray">
      <div
        *ngIf="subjectArray[0]"
        [ngStyle]="{ 'background-color': colorArray[0] }"
        class="flex center-justify center-align-item subject-name-item"
        (click)="clickSub(subjectArray[0])"
      >
        <div style="width: 80%; display: flex; justify-content: flex-start">
          <p>{{ subjectArray[0].subjectName }}</p>
        </div>
        <div style="width: 20%; display: flex; justify-content: flex-end">
          <mat-icon>keyboard_arrow_down</mat-icon>
        </div>
      </div>
      <div style="margin-bottom: 1em;" *ngIf="clickedSubject == subjectArray[0]" >
        <div *ngFor="let detail of subjectDetailArray" class="detail-div">
          <p class="detail-title">
            <span style="text-decoration: underline"
              >Tuần {{ detail.weekNum }}:</span
            >
            {{ detail.weekDescription }}
          </p>
          <p class="detail-text">
            Kết quả đạt được: {{ detail.learningOutcome }}
          </p>
        </div>
      </div>
      <div
        *ngIf="subjectArray[1]"
        [ngStyle]="{ 'background-color': colorArray[1] }"
        class="flex center-justify center-align-item subject-name-item"
        (click)="clickSub(subjectArray[1])"
      >
        <div style="width: 80%; display: flex; justify-content: flex-start">
          <p>{{ subjectArray[1].subjectName }}</p>
        </div>
        <div style="width: 20%; display: flex; justify-content: flex-end">
          <mat-icon>keyboard_arrow_down</mat-icon>
        </div>
      </div>
      <div style="margin-bottom: 1em;" *ngIf="clickedSubject == subjectArray[1]">
        <div *ngFor="let detail of subjectDetailArray" class="detail-div">
          <p class="detail-title">
            <span style="text-decoration: underline"
              >Tuần {{ detail.weekNum }}:</span
            >
            {{ detail.weekDescription }}
          </p>
          <p class="detail-text">
            Kết quả đạt được: {{ detail.learningOutcome }}
          </p>
        </div>
      </div>
      <div
        *ngIf="subjectArray[2]"
        [ngStyle]="{ 'background-color': colorArray[2] }"
        class="flex center-justify center-align-item subject-name-item"
        (click)="clickSub(subjectArray[2])"
      >
        <div style="width: 80%; display: flex; justify-content: flex-start">
          <p>{{ subjectArray[2].subjectName }}</p>
        </div>
        <div style="width: 20%; display: flex; justify-content: flex-end">
          <mat-icon>keyboard_arrow_down</mat-icon>
        </div>
      </div>
      <div style="margin-bottom: 1em;" *ngIf="clickedSubject == subjectArray[2]">
        <div *ngFor="let detail of subjectDetailArray" class="detail-div">
          <p class="detail-title">
            <span style="text-decoration: underline"
              >Tuần {{ detail.weekNum }}:</span
            >
            {{ detail.weekDescription }}
          </p>
          <p class="detail-text">
            Kết quả đạt được: {{ detail.learningOutcome }}
          </p>
        </div>
      </div>
      <div
        *ngIf="subjectArray[3]"
        [ngStyle]="{ 'background-color': colorArray[3] }"
        class="flex center-justify center-align-item subject-name-item"
        (click)="clickSub(subjectArray[3])"
      >
        <div style="width: 80%; display: flex; justify-content: flex-start">
          <p>{{ subjectArray[3].subjectName }}</p>
        </div>
        <div style="width: 20%; display: flex; justify-content: flex-end">
          <mat-icon>keyboard_arrow_down</mat-icon>
        </div>
      </div>
      <div style="margin-bottom: 1em;" *ngIf="clickedSubject == subjectArray[3]">
        <div *ngFor="let detail of subjectDetailArray" class="detail-div">
          <p class="detail-title">
            <span style="text-decoration: underline"
              >Tuần {{ detail.weekNum }}:</span
            >
            {{ detail.weekDescription }}
          </p>
          <p class="detail-text">
            Kết quả đạt được: {{ detail.learningOutcome }}
          </p>
        </div>
      </div>
      <div
        *ngIf="subjectArray[4]"
        [ngStyle]="{ 'background-color': colorArray[4] }"
        class="flex center-justify center-align-item subject-name-item"
        (click)="clickSub(subjectArray[4])"
      >
        <div style="width: 80%; display: flex; justify-content: flex-start">
          <p>{{ subjectArray[4].subjectName }}</p>
        </div>
        <div style="width: 20%; display: flex; justify-content: flex-end">
          <mat-icon>keyboard_arrow_down</mat-icon>
        </div>
      </div>
      <div style="margin-bottom: 1em;" *ngIf="clickedSubject == subjectArray[4]">
        <div *ngFor="let detail of subjectDetailArray" class="detail-div">
          <p class="detail-title">
            <span style="text-decoration: underline"
              >Tuần {{ detail.weekNum }}:</span
            >
            {{ detail.weekDescription }}
          </p>
          <p class="detail-text">
            Kết quả đạt được: {{ detail.learningOutcome }}
          </p>
        </div>
      </div>

      <div class="paging">
        <div
          class="item"
          *ngFor="let page of pageArraySubject"
          [ngClass]="page == currentPageSubject ? 'item-hover' : 'item'"
          (click)="changePageSubject(page)"
        >
          <a>{{ page }}</a>
        </div>
      </div>
    </div>
  </div>
</div>
<div *ngIf="isLoading" class="loading-page" style="padding-left: 39.5%">
  <img class="loading" src="/assets/image/loading.gif" alt="Logo image" />
</div>
<div class="alert-div" *ngIf="haveAlertOk">
  <div class="alert">
    <p>{{ alertMessage }}</p>
    <button (click)="haveAlertOk = !haveAlertOk">OK</button>
  </div>
</div>
<div class="alert-div" *ngIf="haveAlertYN">
  <div class="alert" *ngIf="haveAlertYN">
    <p>{{ alertMessage }}</p>
    <button (click)="doYes()">Có</button>
    <button (click)="doNo()">Không</button>
  </div>
</div>
